# 🚀 クイックスタートガイド - GitHub CI統合

このガイドでは、GitHub CI統合機能を5分で設定する方法を説明します。

---

## 📝 事前準備

以下を用意してください：
- ✅ GitHubアカウント
- ✅ モダンブラウザ（Chrome、Firefox、Safari、Edge）
- ✅ 監視したいGitHubリポジトリ

---

## ステップ1️⃣: Personal Access Tokenの作成（2分）

### 1. GitHubにログイン
https://github.com にアクセスしてログイン

### 2. トークン作成ページに移動
```
GitHub右上のアイコン → Settings → Developer settings 
→ Personal access tokens → Tokens (classic) → Generate new token
```

または直接アクセス:
https://github.com/settings/tokens/new

### 3. トークンの設定

| 項目 | 設定値 |
|------|--------|
| **Note** | `Spec Tracking Site - CI Integration` |
| **Expiration** | `90 days`（推奨） |
| **Scopes** | ✅ `repo:status`<br>✅ `repo_deployment`<br>✅ `public_repo` |

### 4. トークンを生成してコピー

1. ページ下部の **Generate token** をクリック
2. 表示されたトークンをコピー（例: `ghp_xxxxxxxxxxxx...`）

⚠️ **重要**: トークンは一度しか表示されません！必ずコピーしてください。

---

## ステップ2️⃣: トークンの設定（1分）

### 1. 設定ページを開く

以下のいずれかの方法でアクセス：

**方法A: 直接アクセス**
```
https://hit-maruyama.github.io/spec-tracking-site/settings.html
```

**方法B: メインページから**
```
メインページ → 右上の「⚙️ 設定」ボタンをクリック
```

### 2. トークンを入力

1. 「GitHub統合設定」セクションを見つける
2. **Personal Access Token** フィールドにトークンを貼り付け
3. **保存** ボタンをクリック

✅ 成功メッセージが表示されます：
```
✓ Personal Access Tokenを保存しました
```

### 3. 接続テスト

1. **接続テスト** ボタンをクリック
2. 成功メッセージを確認：
```
✓ GitHub APIへの接続に成功しました
```

---

## ステップ3️⃣: 自動同期の設定（1分）

### 1. 自動同期を有効化

設定ページの「自動同期設定」セクションで：

1. ✅ **自動同期を有効にする** をチェック
2. 同期間隔を選択（推奨: **15分**）
3. **保存** ボタンをクリック

### 2. 設定完了

✅ 自動同期が開始されました！

---

## ステップ4️⃣: プロジェクトとリポジトリの関連付け（1分）

### 1. プロジェクトを開く

```
メインページ → プロジェクトをクリック
```

### 2. GitHubリポジトリURLを設定

1. **編集** ボタンをクリック
2. **GitHubリポジトリURL** フィールドに入力：
   ```
   https://github.com/owner/repository
   ```
   例:
   ```
   https://github.com/HIT-maruyama/spec-tracking-site
   ```
3. **保存** ボタンをクリック

### 3. 手動同期を実行

1. **CI結果** タブを開く
2. **同期** ボタンをクリック
3. 同期完了を待つ（数秒）

✅ 最新のCI結果が表示されます！

---

## 🎉 完了！

これで設定は完了です。以下の機能が利用可能になりました：

- ✅ GitHub Actionsの実行結果を自動取得
- ✅ CI結果の自動更新（15分ごと）
- ✅ lint、テスト、カバレッジの自動記録
- ✅ 同期履歴の確認

---

## 📊 次のステップ

### 1. 同期履歴を確認

```
設定ページ → 「同期履歴」セクション
```

各同期の実行時刻、結果、取得件数を確認できます。

### 2. API使用状況を確認

```
設定ページ → 「API使用状況」セクション
```

レート制限の状態を確認できます：
- 残り回数: 4,999 / 5,000
- リセット時刻: 2024-12-17 15:30:00

### 3. 複数のプロジェクトを設定

他のプロジェクトにもGitHubリポジトリURLを設定して、複数のリポジトリを監視できます。

---

## 🔧 トラブルシューティング

### 問題: トークンが保存できない

**解決方法**:
1. モダンブラウザを使用しているか確認
2. プライベートブラウジングモードでないか確認
3. ブラウザのコンソール（F12）でエラーを確認

### 問題: 接続テストが失敗する

**解決方法**:
1. トークンが正しくコピーされているか確認
2. トークンの権限（repo:status、repo_deployment）を確認
3. トークンの有効期限を確認

### 問題: 同期が実行されない

**解決方法**:
1. リポジトリURLが正しい形式か確認
   - 正しい: `https://github.com/owner/repo`
   - 間違い: `github.com/owner/repo`
2. リポジトリが存在するか確認
3. ワークフローが実行されているか確認

---

## 📚 詳細ガイド

より詳しい情報は以下のドキュメントを参照してください：

- 📖 **詳細な設定手順**: `GITHUB_TOKEN_SETUP_GUIDE.md`
- 🧪 **テスト実行ガイド**: `FINAL_CHECKPOINT_README.md`
- 📋 **要件定義書**: `.kiro/specs/github-ci-integration/requirements.md`
- 🎨 **設計文書**: `.kiro/specs/github-ci-integration/design.md`

---

## 💡 ヒント

### セキュリティ
- トークンは暗号化されてブラウザに保存されます
- 定期的にトークンを更新してください（90日ごと推奨）
- 使用しなくなったトークンはGitHubで削除してください

### パフォーマンス
- 自動同期の間隔は15分以上を推奨
- レート制限に注意（認証あり: 5,000リクエスト/時間）
- 複数プロジェクトの場合は間隔を長めに設定

### 便利な機能
- 同期履歴から過去の同期結果を確認できます
- エラーが発生した場合は履歴に詳細が記録されます
- 手動同期でいつでも最新のCI結果を取得できます

---

## 📞 サポート

問題が解決しない場合は：

1. ブラウザのコンソール（F12）でエラーを確認
2. `GITHUB_TOKEN_SETUP_GUIDE.md` のトラブルシューティングを参照
3. GitHubのIssueで報告

---

**所要時間**: 約5分  
**難易度**: ⭐⭐☆☆☆（簡単）  
**最終更新**: 2024年12月17日
