# デプロイメントガイド

## GitHub Pagesでのデプロイメント手順

### 1. GitHubリポジトリの作成

1. GitHubにログインし、新しいリポジトリを作成
2. リポジトリ名を設定（例: `spec-tracking-site`）
3. パブリックリポジトリとして作成
4. README、.gitignore、ライセンスは後で追加するため、初期化オプションはチェックしない

### 2. ローカルリポジトリの設定

```bash
# リモートリポジトリを追加
git remote add origin https://github.com/YOUR_USERNAME/spec-tracking-site.git

# ファイルをステージング
git add .

# 初回コミット
git commit -m "Initial commit: 仕様駆動開発管理サイトの初期実装"

# メインブランチにプッシュ
git push -u origin main
```

### 3. GitHub Pagesの設定

1. GitHubリポジトリページで「Settings」タブをクリック
2. 左サイドバーの「Pages」をクリック
3. 「Source」セクションで「Deploy from a branch」を選択
4. ブランチを「main」に設定
5. フォルダを「/ (root)」に設定
6. 「Save」ボタンをクリック

### 4. デプロイメントの確認

- GitHub Pagesの設定後、数分でサイトが利用可能になります
- サイトのURLは `https://YOUR_USERNAME.github.io/spec-tracking-site/` になります
- 「Actions」タブでデプロイメントの進行状況を確認できます

## カスタムドメインの設定（オプション）

### 1. ドメインの準備

独自ドメインを使用する場合：

1. ドメインレジストラでドメインを取得
2. DNSレコードを設定：
   ```
   CNAME: www.yourdomain.com -> YOUR_USERNAME.github.io
   A: yourdomain.com -> 185.199.108.153
   A: yourdomain.com -> 185.199.109.153
   A: yourdomain.com -> 185.199.110.153
   A: yourdomain.com -> 185.199.111.153
   ```

### 2. GitHub Pagesでのカスタムドメイン設定

1. リポジトリの「Settings」→「Pages」
2. 「Custom domain」にドメイン名を入力
3. 「Save」をクリック
4. 「Enforce HTTPS」をチェック（推奨）

## デプロイメント後の確認事項

### 1. 基本機能の確認

- [ ] メインページが正常に表示される
- [ ] プロジェクト詳細ページが正常に表示される
- [ ] CSSスタイルが適用されている
- [ ] JavaScriptが正常に動作している

### 2. データ機能の確認

- [ ] 初回アクセス時にサンプルデータが読み込まれる
- [ ] プロジェクトの追加・編集・削除が動作する
- [ ] CI結果の追加・削除が動作する
- [ ] レビュー指摘の追加・編集・削除が動作する
- [ ] 効果メトリクスの編集が動作する
- [ ] データエクスポート機能が動作する

### 3. UI機能の確認

- [ ] モーダルの表示・非表示が動作する
- [ ] メッセージ表示機能が動作する
- [ ] フィルタリング・ソート機能が動作する
- [ ] レスポンシブデザインが適用されている

### 4. ブラウザ互換性の確認

以下のブラウザで動作確認を実施：

- [ ] Chrome (最新版)
- [ ] Firefox (最新版)
- [ ] Safari (最新版)
- [ ] Edge (最新版)

## トラブルシューティング

### よくある問題と解決方法

#### 1. サイトが表示されない

**原因**: GitHub Pagesの設定が正しくない、またはデプロイメントが完了していない

**解決方法**:
- GitHub Pagesの設定を再確認
- 「Actions」タブでデプロイメント状況を確認
- 数分待ってから再度アクセス

#### 2. CSSやJavaScriptが読み込まれない

**原因**: 相対パスの問題、またはファイルが存在しない

**解決方法**:
- ブラウザの開発者ツールでネットワークタブを確認
- 404エラーが発生しているファイルを特定
- ファイルパスを修正

#### 3. データが保存されない

**原因**: LocalStorageの制限、またはブラウザの設定

**解決方法**:
- ブラウザの開発者ツールでLocalStorageを確認
- プライベートモードでないことを確認
- ブラウザのストレージ設定を確認

#### 4. モバイルで表示が崩れる

**原因**: レスポンシブデザインの問題

**解決方法**:
- ブラウザの開発者ツールでモバイル表示を確認
- CSSのメディアクエリを確認
- ビューポート設定を確認

## 更新とメンテナンス

### 定期的な更新

1. **セキュリティ更新**
   - 依存関係の更新（該当する場合）
   - ブラウザ互換性の確認

2. **機能追加**
   - 新機能の開発
   - テストの実行
   - デプロイメント

3. **データバックアップ**
   - 定期的なデータエクスポート
   - バックアップファイルの保管

### 更新手順

```bash
# 変更をコミット
git add .
git commit -m "機能追加: 新しい機能の説明"

# リモートリポジトリにプッシュ
git push origin main
```

GitHub Pagesは自動的に更新を検出し、新しいバージョンをデプロイします。

## パフォーマンス最適化

### 1. ファイルサイズの最適化

- 不要なコメントの削除
- CSSとJavaScriptの最小化
- 画像の最適化（該当する場合）

### 2. キャッシュ戦略

- 適切なHTTPヘッダーの設定
- ブラウザキャッシュの活用
- CDNの利用（必要に応じて）

### 3. 読み込み速度の改善

- 重要でないJavaScriptの遅延読み込み
- CSSの最適化
- フォントの最適化

## セキュリティ考慮事項

### 1. XSS対策

- ユーザー入力のサニタイゼーション
- textContentの使用
- HTMLエスケープの実装

### 2. データ保護

- LocalStorageデータの適切な管理
- 機密情報の除外
- データエクスポート時の注意

### 3. HTTPS強制

- GitHub PagesでのHTTPS設定
- 混合コンテンツの回避
- セキュアなリンクの使用

## 監視とログ

### 1. エラー監視

- ブラウザコンソールエラーの監視
- JavaScript例外の追跡
- ユーザーフィードバックの収集

### 2. 使用状況の分析

- Google Analyticsの設定（オプション）
- ユーザー行動の分析
- パフォーマンス指標の監視

## サポートとドキュメント

### 1. ユーザーガイド

- 使用方法の説明
- FAQ の作成
- トラブルシューティングガイド

### 2. 開発者ドキュメント

- コードの文書化
- API仕様の記述
- 拡張ガイドの作成